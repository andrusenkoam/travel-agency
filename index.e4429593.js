const t={searchForm:document.querySelector(".js-form"),inputWraper:document.querySelector(".js-wraper"),addCountry:document.querySelector(".js-add"),counryList:document.querySelector(".js-list")};t.searchForm.addEventListener("submit",(function(e){e.preventDefault();const n=new FormData(e.currentTarget);(async function(t){const e="https://restcountries.com/v3.1/name/",n=t.map((async t=>{const n=await fetch(`${e}${t}`);if(!n.ok)throw new Error(n.statusText);return n.json()})),r=await Promise.allSettled(n);return r.filter((({status:t})=>"fulfilled"===t)).map((({value:t})=>t[0]))})(n.getAll("country").filter((t=>t)).map((t=>t.trim()))).then((async e=>{const n=e.map((({capital:t})=>t[0])),r=await async function(t){const e="http://api.weatherapi.com/v1",n="a9b2b5b585064de1aab74606242609",r=t.map((async t=>{const r=new URLSearchParams({key:n,q:t}),a=await fetch(`${e}/current.json?${r}`);if(!a.ok)throw new Error(a.statusText);return a.json()})),a=await Promise.allSettled(r);return a.filter((({status:t})=>"fulfilled"===t)).map((({value:t})=>t))}(n);t.counryList.innerHTML=r.map((({current:{temp_c:t,condition:{icon:e,text:n}},location:{name:r,country:a}})=>` <li class="country-item">\n          <div class="country-info">\n            <h2 class="country">${a}</h2>\n            <h3 class="capital">${r}</h3>\n          </div>\n          <img src="${e}" alt="${n}" />\n          <p>Text info: ${n}</p>\n          <p>Temperature: ${t} C&deg;</p>\n        </li>`)).join("")})).catch((t=>console.log(t))).finally((()=>{t.inputWraper.innerHTML='<input type="text" name="country" placeholder="Enter country" class="text" />',t.searchForm.reset()}))})),t.addCountry.addEventListener("click",(function(){t.inputWraper.insertAdjacentHTML("beforeend",'<input type="text" name="country" placeholder="Enter country" class="text" />')}));
//# sourceMappingURL=index.e4429593.js.map
